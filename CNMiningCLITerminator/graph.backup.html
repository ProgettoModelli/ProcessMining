
<html>

<head>
	<title>WebMining</title>
	<style>
	#myDiagramDiv {
		width: 100%;
		height: 100%;
		border: 1px grey solid;
		margin: 0;
		padding: 0;
	}
	</style>
</head>
<body>
<script src="go.js"></script>
<div id = 'myDiagramDiv'></div>

<script>
var $ = go.GraphObject.make;  // for conciseness in defining templates

myDiagram = $(go.Diagram, "myDiagramDiv",  // create a Diagram for the DIV HTML element
	{
		initialAutoScale: go.Diagram.Uniform,  // an initial automatic zoom-to-fit
      	contentAlignment: go.Spot.Center,  // align document to the center of the viewport
      	layout:
            $(go.ForceDirectedLayout,  // automatically spread nodes apart
          		{ maxIterations: 200, defaultSpringLength: 30, defaultElectricalCharge: 100 }
          	)
	}
);

// define a simple Node template
myDiagram.nodeTemplate =
$(go.Node, "Auto",  // the Shape will go around the TextBlock
		$(go.Shape, "Ellipse", 
		{ 
			strokeWidth: 0,
			name: "SHAPE",
    			fill: "lightgray",  // default value, but also data-bound
		 	stroke: "transparent",  // modified by highlighting
		    	strokeWidth: 2
		},
  		// Shape.fill is bound to Node.data.color
  		new go.Binding("fill", "color")
  	),
	$(go.TextBlock,
		{ margin: 8 },  // some room around the text
		// TextBlock.text is bound to Node.data.key
		new go.Binding("text", "key")
	)
);

 // define the Link template
myDiagram.linkTemplate =
$(go.Link,
	{
  		selectable: false,      // links cannot be selected by the user
  		curve: go.Link.Bezier,
	  	layerName: "Background"  // don't cross in front of any nodes
	},
	$(go.Shape,  // this shape only shows when it isHighlighted
  	{ 
		isPanelMain: true, 
		stroke: null, 
		strokeWidth: 5 
	},
	new go.Binding("stroke", "isHighlighted", function(h) { return h ? "red" : null; }).ofObject()),
	$(go.Shape,
	  	// mark each Shape to get the link geometry with isPanelMain: true
	  	{ isPanelMain: true, stroke: "black", strokeWidth: 1 },
	  	new go.Binding("stroke", "color")),
		$(go.Shape, { toArrow: "Standard" }
	)
);

// but use the default Link template, by not setting Diagram.linkTemplate

// create the model data that will be represented by Nodes and Links

var model = $(go.GraphLinksModel);
model.nodeDataArray =
[
{key: "EPILOGUE", type: "FinalNode", color: "black"},
{key: "Complete_recall", type: "Node", color: "orange"},
{key: "Complete_optional_actions", type: "Node", color: "orange"},
{key: "Prepare_to_destory_or_modify", type: "Node", color: "orange"},
{key: "Identify_remedies", type: "Node", color: "orange"},
{key: "Start_recall", type: "Node", color: "orange"},
{key: "Notify_third_parties", type: "Node", color: "orange"},
{key: "Keep_records", type: "Node", color: "orange"},
{key: "Stop_distribution", type: "Node", color: "orange"},
{key: "Stop_production", type: "Node", color: "orange"},
{key: "Arrange_disposal", type: "Node", color: "orange"},
{key: "PROLOGUE", type: "InitialNode", color: "black"},
{key: "Consider_optional_actions", type: "Node", color: "orange"},
{key: "ForkStart_recall", type: "ForkNode", color: "red"},
{key: "ForkConsider_optional_actions", type: "ForkNode", color: "red"},
{key: "JoinComplete_recall", type: "JoinNode", color: "pink"},
{key: "JoinComplete_optional_actions", type: "JoinNode", color: "pink"},
{key: "JoinPrepare_to_destory_or_modify", type: "JoinNode", color: "pink"},
{key: "BranchConsider_optional_actions", type: "BranchNode", color: "cyan"}
];
model.linkDataArray =
[
{from: "Complete_recall", to: "EPILOGUE"},
{from: "Complete_optional_actions", to: "JoinComplete_recall"},
{from: "Prepare_to_destory_or_modify", to: "JoinComplete_optional_actions"},
{from: "Identify_remedies", to: "JoinPrepare_to_destory_or_modify"},
{from: "Notify_third_parties", to: "JoinComplete_recall"},
{from: "Keep_records", to: "JoinComplete_recall"},
{from: "Stop_distribution", to: "JoinComplete_recall"},
{from: "Stop_production", to: "JoinComplete_optional_actions"},
{from: "Arrange_disposal", to: "JoinComplete_recall"},
{from: "PROLOGUE", to: "Start_recall"},
{from: "Start_recall", to: "ForkStart_recall"},
{from: "ForkStart_recall", to: "Consider_optional_actions"},
{from: "ForkStart_recall", to: "Identify_remedies"},
{from: "ForkStart_recall", to: "Arrange_disposal"},
{from: "ForkStart_recall", to: "Keep_records"},
{from: "ForkStart_recall", to: "Notify_third_parties"},
{from: "ForkStart_recall", to: "Stop_distribution"},
{from: "ForkConsider_optional_actions", to: "Stop_production"},
{from: "ForkConsider_optional_actions", to: "Prepare_to_destory_or_modify"},
{from: "JoinComplete_recall", to: "Complete_recall"},
{from: "JoinComplete_optional_actions", to: "Complete_optional_actions"},
{from: "JoinPrepare_to_destory_or_modify", to: "Prepare_to_destory_or_modify"},
{from: "Consider_optional_actions", to: "BranchConsider_optional_actions"},
{from: "BranchConsider_optional_actions", to: "ForkConsider_optional_actions"},
{from: "BranchConsider_optional_actions", to: "JoinPrepare_to_destory_or_modify"}
];
myDiagram.model = model;

</script>

</body>

</html>